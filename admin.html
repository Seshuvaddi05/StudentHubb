<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>StudentHub â€“ Admin</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="styles.css" />
  <style>
    .admin-container {
      max-width: 980px;
      margin: 2rem auto;
      background: #ffffff;
      border-radius: 0.9rem;
      padding: 1.5rem 1.75rem;
      box-shadow: 0 10px 30px rgba(15, 23, 42, 0.12);
    }
    body.dark .admin-container {
      background: #020617;
      border: 1px solid #1f2937;
      box-shadow: 0 10px 30px rgba(15, 23, 42, 0.7);
    }

    .admin-heading {
      font-size: 1.4rem;
      font-weight: 600;
      margin-bottom: 0.4rem;
    }
    .admin-subtitle {
      font-size: 0.9rem;
      color: #6b7280;
      margin-bottom: 1rem;
    }
    body.dark .admin-subtitle {
      color: #9ca3af;
    }

    .price-row {
      display: flex;
      gap: 0.75rem;
      flex-wrap: wrap;
      align-items: center;
    }
    .price-row .form-row {
      flex: 1 1 140px;
      margin-bottom: 0;
    }
    .price-row small {
      font-size: 0.75rem;
      color: #6b7280;
    }
    body.dark .price-row small {
      color: #9ca3af;
    }
    .price-chip {
      display: inline-flex;
      align-items: center;
      padding: 0.15rem 0.6rem;
      border-radius: 999px;
      font-size: 0.75rem;
      background: #fef3c7;
      color: #92400e;
    }
    body.dark .price-chip {
      background: #4b5563;
      color: #f9fafb;
    }

    /* Manage materials section */
    .admin-section-divider {
      margin: 1.75rem 0 1.25rem;
      border-top: 1px dashed #e5e7eb;
    }
    body.dark .admin-section-divider {
      border-top-color: #1f2937;
    }
    .admin-subheading {
      font-size: 1.05rem;
      font-weight: 600;
      margin-bottom: 0.4rem;
    }
    .admin-subtext {
      font-size: 0.85rem;
      color: #6b7280;
      margin-bottom: 0.75rem;
    }
    body.dark .admin-subtext {
      color: #9ca3af;
    }

    .admin-filter-row {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      margin-bottom: 0.75rem;
    }
    .admin-filter-row .filter-input {
      flex: 1 1 220px;
    }
    .admin-filter-row .filter-select {
      flex: 0 0 160px;
    }

    .admin-table-wrapper {
      width: 100%;
      overflow-x: auto;
    }
    .admin-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.85rem;
    }
    .admin-table th,
    .admin-table td {
      padding: 0.4rem 0.5rem;
      border-bottom: 1px solid #e5e7eb;
      text-align: left;
      vertical-align: middle;
    }
    .admin-table th {
      font-weight: 600;
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.03em;
      color: #6b7280;
    }
    .admin-table td {
      color: #111827;
    }
    body.dark .admin-table th {
      border-bottom-color: #1f2937;
      color: #9ca3af;
    }
    body.dark .admin-table td {
      border-bottom-color: #1f2937;
      color: #e5e7eb;
    }

    .admin-pill {
      display: inline-flex;
      padding: 0.1rem 0.45rem;
      border-radius: 999px;
      font-size: 0.7rem;
      background: #eef2ff;
      color: #3730a3;
    }
    body.dark .admin-pill {
      background: #111827;
      color: #c7d2fe;
    }

    .btn-danger {
      background: #b91c1c;
      color: #f9fafb;
      border: none;
      border-radius: 999px;
      padding: 0.25rem 0.7rem;
      font-size: 0.75rem;
      cursor: pointer;
    }
    .btn-danger:hover {
      background: #991b1b;
    }

    .admin-status-text {
      font-size: 0.8rem;
      margin-top: 0.35rem;
    }
    .admin-status-text.muted {
      color: #6b7280;
    }
    body.dark .admin-status-text.muted {
      color: #9ca3af;
    }

    @media (max-width: 640px) {
      .admin-container {
        margin-top: 1.25rem;
        padding: 1.25rem 1.1rem;
      }
    }
  </style>
</head>
<body>
  <header class="navbar">
    <div class="logo">StudentHub Admin</div>
    <nav class="nav-links">
      <a href="/">View site</a>
    </nav>
    <button id="theme-toggle" class="theme-toggle-btn">ðŸŒ™</button>
  </header>

  <main class="section">
    <div class="admin-container">
      <!-- Upload section -->
      <h1 class="admin-heading">Upload material</h1>
      <p class="admin-subtitle">
        Upload e-books or question papers. Leave it as
        <span class="price-chip">0 = Free</span>, or mark it as paid and set a price.
      </p>

      <form id="upload-form" class="request-form">
        <div class="form-row">
          <label>Type</label>
          <select id="type" required>
            <option value="ebook">E-Book</option>
            <option value="questionPaper">Question Paper</option>
          </select>
        </div>

        <div class="form-row">
          <label>Title</label>
          <input type="text" id="title" required />
        </div>

        <div class="form-row">
          <label>Description</label>
          <textarea id="description" rows="3"></textarea>
        </div>

        <div class="form-row">
          <label>Exam</label>
          <input type="text" id="exam" />
        </div>

        <div class="form-row">
          <label>Subject</label>
          <input type="text" id="subject" />
        </div>

        <div class="form-row">
          <label>Year</label>
          <input type="text" id="year" placeholder="2024" />
        </div>

        <!-- Pricing -->
        <div class="price-row" style="margin-bottom:0.75rem;">
          <div class="form-row">
            <label for="price">Price (â‚¹)</label>
            <input
              type="number"
              id="price"
              min="0"
              step="1"
              placeholder="0 (Free material)"
            />
          </div>

          <div class="form-row" style="flex:0 0 auto;">
            <label style="display:block; margin-bottom:0.2rem;">Paid?</label>
            <label style="display:flex; align-items:center; gap:0.4rem;">
              <input type="checkbox" id="isPaid" />
              <span>Mark as paid material</span>
            </label>
            <small>
              If unchecked, this stays free (price = 0). When checked, you should enter a price greater than 0.
            </small>
          </div>
        </div>

        <div class="form-row">
          <label>PDF file</label>
          <input type="file" id="file" accept="application/pdf" required />
        </div>

        <button type="submit" class="btn primary">Upload</button>
        <p id="upload-status" style="font-size:0.85rem; margin-top:0.4rem;"></p>
      </form>

      <!-- Divider -->
      <div class="admin-section-divider"></div>

      <!-- Manage materials section -->
      <h2 class="admin-subheading">Manage existing materials</h2>
      <p class="admin-subtitle admin-subtext">
        Search, filter and delete uploaded e-books and question papers.
      </p>

      <div class="admin-filter-row">
        <input
          type="text"
          id="materials-search"
          class="filter-input"
          placeholder="Search by title, exam, subject..."
        />
        <select id="materials-type-filter" class="filter-select">
          <option value="">All types</option>
          <option value="ebook">E-Books</option>
          <option value="questionPaper">Question Papers</option>
        </select>
      </div>

      <div class="admin-table-wrapper">
        <table class="admin-table">
          <thead>
            <tr>
              <th>#</th>
              <th>Title</th>
              <th>Type</th>
              <th>Exam</th>
              <th>Year</th>
              <th>Price</th>
              <th>Downloads</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="materials-table-body">
            <!-- Filled by admin.js -->
          </tbody>
        </table>
      </div>
      <p id="materials-list-status" class="admin-status-text muted">
        Loading materialsâ€¦
      </p>
    </div>
  </main>

  <script src="admin.js"></script>
</body>
</html>
