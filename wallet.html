<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>StudentHub ‚Äì Wallet</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" href="/styles/styles.css">

  <style>
    /* ===============================
   WALLET ‚Äì FULL THEME SUPPORT
================================= */

    /* page */
    body {
      background: var(--bg);
      color: var(--text);
    }

    /* main card */
    .wallet-container {
      max-width: 1600px;
      /* ‚≠ê wider like other pages */
      width: 100%;
      margin: 0rem auto 2rem;
      padding: 1.8rem 2rem;
      border-radius: 16px;
      background: var(--card);
      border: 1px solid var(--card-2);
      box-shadow: 0 10px 28px rgba(0, 0, 0, 0.06);
    }


    /* headings */
    .wallet-heading {
      font-size: 1.4rem;
      font-weight: 600;
    }

    .wallet-subtitle,
    .wallet-rupees {
      color: var(--muted);
    }

    /* balance */
    .wallet-balance {
      font-size: 1.8rem;
      font-weight: 700;
    }

    /* ===== stats ===== */
    .wallet-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1rem;
      margin: 1rem 0 1.5rem;
    }

    .stat-card {
      background: var(--card);
      border: 1px solid var(--card-2);
      border-radius: 12px;
      padding: 0.8rem;
      text-align: center;
    }

    .stat-label {
      font-size: 0.75rem;
      color: var(--muted);
    }

    .stat-value {
      font-size: 1.2rem;
      font-weight: 700;
    }

    /* ===== withdraw card ===== */
    .withdraw-card {
      margin-top: 1rem;
      padding: 1rem;
      border-radius: 0.8rem;

      background: var(--card);
      border: 1px solid var(--card-2);
    }

    /* inputs */
    .form-label {
      margin-top: 0.6rem;
      font-size: 0.85rem;
      font-weight: 500;
    }

    .form-input {
      width: 100%;
      max-width: 320px;
      padding: 0.45rem 0.6rem;
      border-radius: 0.55rem;

      background: var(--card);
      border: 1px solid var(--card-2);
      color: var(--text);
    }

    /* tables */
    table {
      width: 100%;
      margin-top: 1rem;
      border-collapse: collapse;
      font-size: 0.85rem;
    }

    th,
    td {
      padding: 0.5rem;
      border-bottom: 1px solid var(--card-2);
    }

    /* status colors */
    .withdraw-status.success {
      color: #16a34a;
    }

    .withdraw-status.error {
      color: #ef4444;
    }

    .withdraw-status.warning {
      color: #f59e0b;
    }

    /* pills */
    .ledger-type {
      padding: 2px 8px;
      border-radius: 999px;
      font-size: 0.75rem;
      font-weight: 600;
    }

    .ledger-type.credit {
      background: #16a34a20;
      color: #16a34a;
    }

    .ledger-type.debit {
      background: #ef444420;
      color: #ef4444;
    }
  </style>
</head>

<body data-protected>

  <header class="navbar">
    <div class="logo">StudentHub</div>
    <button id="theme-toggle" class="theme-toggle-btn">üåô</button>
  </header>

  <!-- ================= APP LAYOUT ================= -->
  <div class="app-layout">

    <!-- ========= SIDEBAR ========= -->
    <aside class="sidebar">

      <h3 class="sb-title">Dashboard</h3>

      <!-- Primary -->
      <a href="/dashboard.html" class="sb-link">üè† Dashboard</a>
      <a href="/request.html" class="sb-link">üìù Request Material</a>

      <hr />

      <!-- Content -->
      <a href="/#ebooks" class="sb-link">üìö Browse E-Books</a>
      <a href="/#question-papers" class="sb-link">üìÑ Browse Papers</a>
      <a href="/quiz.html" class="sb-link">üß† Quiz Center</a>

      <hr />

      <!-- Earnings -->
      <a href="/library.html" class="sb-link">üìÇ My Library</a>
      <a href="/read-later.html" class="sb-link">‚è≥ Read Later</a>
      <a href="/submit-pdf.html" class="sb-link">üì§ Submit PDF</a>
      <a href="/my-submissions.html" class="sb-link">üìÑ My Submissions</a>
      <a href="/wallet.html" class="sb-link active">üí∞ Wallet</a>

      <hr />

    </aside>



    <!-- ========= MAIN ========= -->
    <main class="main-content">

      <div class="wallet-container">

        <!-- ================= HEADER ================= -->
        <h1 class="wallet-heading">My Wallet</h1>
        <p class="wallet-subtitle">
          Earn coins when your PDFs are approved. Minimum 100 coins required to withdraw.
        </p>



        <!-- ================= BALANCE ================= -->
        <div class="wallet-balance" id="walletBalance">0 coins</div>
        <div class="wallet-rupees" id="walletRupees">‚Çπ0.00</div>



        <!-- ================= STATS ================= -->
        <div class="wallet-stats">

          <div class="stat-card">
            <div class="stat-label">Earned</div>
            <div class="stat-value" id="statEarned">0</div>
          </div>

          <div class="stat-card">
            <div class="stat-label">Withdrawn</div>
            <div class="stat-value" id="statWithdrawn">0</div>
          </div>

          <div class="stat-card">
            <div class="stat-label">Paid</div>
            <div class="stat-value" id="statPaid">0</div>
          </div>

        </div>



        <!-- ================= WITHDRAW FORM ================= -->
        <div class="withdraw-card">

          <h2 style="font-size:1rem;">Request Withdrawal</h2>

          <!-- Balance -->
          <label class="form-label">Current Balance</label>
          <input id="withdraw-balance" class="form-input" readonly />

          <!-- Amount -->
          <label class="form-label">Withdraw Amount (‚Çπ)</label>
          <input id="withdrawAmount" type="number" min="10" class="form-input" />

          <!-- Method -->
          <label class="form-label">Withdrawal Method</label>
          <select id="withdrawMethod" class="form-input">
            <option value="upi">UPI</option>
            <option value="bank">Bank Transfer</option>
          </select>

          <!-- UPI -->
          <div id="upiSection">
            <label class="form-label">UPI ID</label>
            <input id="upiId" class="form-input" placeholder="example@upi" />
          </div>

          <!-- BANK -->
          <div id="bankSection" style="display:none;">
            <label class="form-label">Account Holder Name</label>
            <input id="bankName" class="form-input" />

            <label class="form-label">Account Number</label>
            <input id="bankAccount" class="form-input" />

            <label class="form-label">IFSC Code</label>
            <input id="bankIfsc" class="form-input" />
          </div>

          <!-- Note -->
          <label class="form-label">Note (optional)</label>
          <textarea id="withdraw-note" rows="2" class="form-input"></textarea>

          <button id="withdrawBtn" class="btn primary" style="margin-top:0.8rem;">
            Submit Withdrawal
          </button>

          <p id="walletMessage" class="withdraw-status"></p>

        </div>



        <!-- ================= HISTORY ================= -->
        <section style="margin-top:1.6rem;">
          <h3 class="dash-section-title">Withdrawal History</h3>

          <table>
            <thead>
              <tr>
                <th>Coins</th>
                <th>Date</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody id="withdrawalHistory"></tbody>
          </table>
        </section>



        <!-- ================= LEDGER ================= -->
        <section style="margin-top:2rem;">
          <h3 class="dash-section-title">Wallet Activity</h3>

          <table>
            <thead>
              <tr>
                <th>Type</th>
                <th>Coins</th>
                <th>Date</th>
              </tr>
            </thead>

            <tbody id="walletLedger">
              <tr>
                <td colspan="3">Loading activity‚Ä¶</td>
              </tr>
            </tbody>
          </table>
        </section>

      </div>

    </main>
  </div>

  <footer class="footer">
    <p>¬© <span id="year"></span> StudentHub</p>
  </footer>

  <script src="script.js" defer></script>
  <script src="wallet.js" defer></script>
</body>

</html>