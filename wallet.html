<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>StudentHub â€“ Wallet</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" href="styles.css" />

  <style>
    .wallet-container {
      max-width: 900px;
      margin: 2rem auto;
      padding: 1.5rem;
      border-radius: 0.9rem;
      background: #ffffff;
      box-shadow: 0 10px 30px rgba(15, 23, 42, 0.12);
    }

    body.dark .wallet-container {
      background: #020617;
      border: 1px solid #1f2937;
    }

    .wallet-heading {
      font-size: 1.4rem;
      font-weight: 600;
    }

    .wallet-subtitle {
      font-size: 0.9rem;
      color: #6b7280;
      margin-bottom: 1rem;
    }

    body.dark .wallet-subtitle {
      color: #9ca3af;
    }

    .wallet-balance {
      font-size: 1.8rem;
      font-weight: 700;
    }

    .wallet-rupees {
      font-size: 0.9rem;
      color: #6b7280;
      margin-bottom: 1rem;
    }

    body.dark .wallet-rupees {
      color: #9ca3af;
    }

    /* ===== Analytics ===== */
    .wallet-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 1rem;
      margin: 1rem 0 1.5rem;
    }

    .stat-card {
      background: #f8fafc;
      border: 1px solid #e5e7eb;
      border-radius: 12px;
      padding: 0.8rem;
      text-align: center;
    }

    body.dark .stat-card {
      background: #020617;
      border-color: #1f2937;
    }

    .stat-label {
      font-size: 0.75rem;
      color: #6b7280;
    }

    .stat-value {
      font-size: 1.2rem;
      font-weight: 700;
      margin-top: 0.2rem;
    }

    /* ===== Withdraw Card ===== */
    .withdraw-card {
      margin-top: 1rem;
      padding: 1rem;
      border-radius: 0.8rem;
      border: 1px solid #e5e7eb;
      background: #f9fafb;
    }

    body.dark .withdraw-card {
      background: #020617;
      border-color: #1f2937;
    }

    .form-label {
      margin-top: 0.6rem;
      font-size: 0.85rem;
      font-weight: 500;
      display: block;
    }

    .form-input {
      width: 100%;
      max-width: 320px;
      padding: 0.45rem 0.6rem;
      border-radius: 0.55rem;
      border: 1px solid #e5e7eb;
      font-size: 0.9rem;
    }

    body.dark .form-input {
      background: #020617;
      color: #e5e7eb;
      border-color: #1f2937;
    }

    .withdraw-status {
      margin-top: 0.6rem;
      font-size: 0.85rem;
    }

    .withdraw-status.success {
      color: #047857;
    }

    .withdraw-status.error {
      color: #b91c1c;
    }

    .withdraw-status.warning {
      color: #d97706;
    }

    /* ===== Tables ===== */
    table {
      width: 100%;
      margin-top: 1rem;
      border-collapse: collapse;
      font-size: 0.85rem;
    }

    th,
    td {
      padding: 0.5rem;
      border-bottom: 1px solid #e5e7eb;
    }

    body.dark th,
    body.dark td {
      border-color: #1f2937;
    }

    .ledger-type {
      padding: 2px 8px;
      border-radius: 999px;
      font-size: 0.75rem;
      font-weight: 600;
    }

    .ledger-type.credit {
      background: #dcfce7;
      color: #166534;
    }

    .ledger-type.debit {
      background: #fee2e2;
      color: #991b1b;
    }
  </style>
</head>

<body>

  <header class="navbar">
    <div class="logo">StudentHub</div>
    <nav class="nav-links">
      <a href="/">Home</a>
      <a href="/dashboard.html">Dashboard</a>
    </nav>
    <button id="theme-toggle" class="theme-toggle-btn">ðŸŒ™</button>
  </header>

  <main class="section">
    <div class="wallet-container">

      <h1 class="wallet-heading">My Wallet</h1>
      <p class="wallet-subtitle">
        Earn coins when your PDFs are approved. Minimum 100 coins required to withdraw.
      </p>

      <div class="wallet-balance" id="walletBalance">0 coins</div>
      <div class="wallet-rupees" id="walletRupees">â‚¹0.00</div>

      <!-- WALLET ANALYTICS -->
      <div class="wallet-stats">
        <div class="stat-card">
          <div class="stat-label">Earned</div>
          <div class="stat-value" id="statEarned">0</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">Withdrawn</div>
          <div class="stat-value" id="statWithdrawn">0</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">Paid</div>
          <div class="stat-value" id="statPaid">0</div>
        </div>
      </div>

      <!-- Withdraw Form -->
      <div class="withdraw-card">
        <h2 style="font-size:1rem;">Request Withdrawal</h2>

        <!-- Balance -->
        <label class="form-label">Current Balance</label>
        <input id="withdraw-balance" class="form-input" readonly />

        <!-- Amount -->
        <label class="form-label">Withdraw Amount (â‚¹)</label>
        <input id="withdrawAmount" type="number" min="10" class="form-input" />

        <!-- Method -->
        <label class="form-label">Withdrawal Method</label>
        <select id="withdrawMethod" class="form-input">
          <option value="upi">UPI</option>
          <option value="bank">Bank Transfer</option>
        </select>

        <!-- UPI SECTION -->
        <div id="upiSection">
          <label class="form-label">UPI ID</label>
          <input id="upiId" class="form-input" placeholder="example@upi" />
        </div>

        <!-- BANK SECTION -->
        <div id="bankSection" style="display:none;">
          <label class="form-label">Account Holder Name</label>
          <input id="bankName" class="form-input" />

          <label class="form-label">Account Number</label>
          <input id="bankAccount" class="form-input" />

          <label class="form-label">IFSC Code</label>
          <input id="bankIfsc" class="form-input" />
        </div>

        <!-- Note -->
        <label class="form-label">Note (optional)</label>
        <textarea id="withdraw-note" rows="2" class="form-input"></textarea>

        <button id="withdrawBtn" class="btn primary" style="margin-top:0.8rem;">
          Submit Withdrawal
        </button>

        <p id="walletMessage" class="withdraw-status"></p>
      </div>


      <!-- Withdrawal History -->
      <h3 style="margin-top:1.5rem;">Withdrawal History</h3>
      <table>
        <thead>
          <tr>
            <th>Coins</th>
            <th>Date</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody id="withdrawalHistory"></tbody>
      </table>

      <!-- Wallet Ledger -->
      <h3 style="margin-top:2rem;">Wallet Activity</h3>
      <table>
        <thead>
          <tr>
            <th>Type</th>
            <th>Coins</th>
            <th>Date</th>
          </tr>
        </thead>
        <tbody id="walletLedger">
          <tr>
            <td colspan="3">Loading activityâ€¦</td>
          </tr>
        </tbody>
      </table>

    </div>
  </main>

  <footer class="footer">
    <p>Â© <span id="year"></span> StudentHub</p>
  </footer>

  <script src="script.js" defer></script>
  <script src="wallet.js" defer></script>
</body>

</html>